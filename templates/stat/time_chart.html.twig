{% extends 'stat/base.html.twig' %}

{% block body %}

    <div id="page-stat-time-chart">

        <h1>{{ 'menu.stat.time_chart'|trans }}</h1>

        <nav class="nav nav-pills mt-4">
            <a href="{{ path('app_stat_time_chart',{period:'d'}) }}"
               class="nav-link{% if 'd'==period %} active{% endif %}">
                {{ 'last_x_days'|transchoice(14) }}
            </a>
            <a href="{{ path('app_stat_time_chart',{period:'w'}) }}"
               class="nav-link{% if 'w'==period %} active{% endif %}">
                {{ 'last_x_weeks'|transchoice(9) }}
            </a>
            <a href="{{ path('app_stat_time_chart',{period:'m'}) }}"
               class="nav-link{% if 'm'==period %} active{% endif %}">
                {{ 'last_x_months'|transchoice(12) }}
            </a>
            <a href="{{ path('app_stat_time_chart',{period:'y'}) }}"
               class="nav-link{% if 'y'==period %} active{% endif %}">
                {{ 'last_x_years'|transchoice(10) }}
            </a>
        </nav>

        {% if 0!=data['series']|length %}

            <div class="chart mt-4"
                 id="chart"
                 data-categories="{{ data['categories']|json_encode }}"
                 data-series="{{ data['series']|json_encode }}"></div>

        {% else %}

            <p>{{ 'no_results_for_your_search'|trans }}</p>

        {% endif %}

    </div>

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('stat-time-chart') }}
{% endblock %}
